server:
  port: 8070
spring:
  cloud:
    gateway:
      discovery:
        locator:
          #表明gateway开启服务注册和发现的功能
          enabled: false
          #将请求路径上的服务名配置为小写
          lower-case-service-id: true
      routes:
      - id: marathon-sys-service-system
        uri: lb://marathon-sys-service-system
        predicates:
        - Path=/system/**
        filters:
        - Test=1, 2, 3
        #在转发之前将/demo去掉
        - StripPrefix=1
        - name: RequestRateLimiter
          args:
            #SpEL 表达式根据#{@beanName}从 Spring 容器中获取 Bean 对象
            key-resolver: '#{@hostAddrKeyResolver}'
            #令牌桶每秒填充平均速率
            redis-rate-limiter.replenishRate: 1
            #令牌桶总容量
            redis-rate-limiter.burstCapacity: 3
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
  redis:
    host: 127.0.0.1
    port: 6379
    database: 0